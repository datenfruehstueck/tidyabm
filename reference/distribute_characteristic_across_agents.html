<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function allows you to set a characteristic for a set of agents that
needs is initially dependent on each other (e.g., a normally distributed
characteristic). If you just want to set an individual characteristic to
agents, use set_characteristic instead as it is much faster."><title>Distribute a given characteristic across a range of agents — distribute_characteristic_across_agents • tidyabm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Distribute a given characteristic across a range of agents — distribute_characteristic_across_agents"><meta property="og:description" content="This function allows you to set a characteristic for a set of agents that
needs is initially dependent on each other (e.g., a normally distributed
characteristic). If you just want to set an individual characteristic to
agents, use set_characteristic instead as it is much faster."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidyabm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/boundedconfidence.html">Deffuant et al.'s Bounded Confidence Model of Opinion Dynamics</a>
    <a class="dropdown-item" href="../articles/diffusion.html">Rogers' Diffusion</a>
    <a class="dropdown-item" href="../articles/segregation.html">Schelling's Segregation</a>
    <a class="dropdown-item" href="../articles/voter.html">Holley and Liggett's Voter Model</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/datenfruehstueck/tidyabm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Distribute a given characteristic across a range of agents</h1>
      <small class="dont-index">Source: <a href="https://github.com/datenfruehstueck/tidyabm/blob/HEAD/R/environment.R" class="external-link"><code>R/environment.R</code></a></small>
      <div class="d-none name"><code>distribute_characteristic_across_agents.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows you to set a characteristic for a set of agents that
needs is initially dependent on each other (e.g., a normally distributed
characteristic). If you just want to set an individual characteristic to
agents, use <a href="set_characteristic.html">set_characteristic</a> instead as it is much faster.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">distribute_characteristic_across_agents</span><span class="op">(</span></span>
<span>  <span class="va">.tidyabm</span>,</span>
<span>  <span class="va">.name</span>,</span>
<span>  <span class="va">.value</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .suppress_warnings <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for tidyabm_env</span></span>
<span><span class="fu">distribute_characteristic_across_agents</span><span class="op">(</span></span>
<span>  <span class="va">.tidyabm</span>,</span>
<span>  <span class="va">.name</span>,</span>
<span>  <span class="va">.value</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  .suppress_warnings <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.tidyabm</dt>
<dd><p>the <code>tidyabm_env</code> holding the (range of) agents</p></dd>


<dt>.name</dt>
<dd><p>character string representing the name of the new characteristic</p></dd>


<dt>.value</dt>
<dd><p>a vector of the same length as the range of agents or a single
value (to apply to all) or a (anonymous) function to be called for each
agent.
For functions you may use a function which gets called for every agent
with three arguments: <code>i</code> (a numeric iterator ranging from 1 for the first
agent to n for the last agent), <code>agent</code> (the respective <code>tidyabm</code> agent),
and <code>agents</code> (a tibble resembling all filtered agents <em>before</em>
distribution of this characteristic started but <em>after</em> filter expressions
were applied, see <code>...</code>). The function should only return one value of
the characteristic, namely the one for the current/respective agent.
If you write your own functions or need to provide additional arguments to
functions, use the style of anonymized functions directly in-line (through
<code>function(i, agent, agents) ...</code> or <code>\(i, agent, agents) ...</code>).</p></dd>


<dt>...</dt>
<dd><p>&lt;<code><a href="https://rlang.r-lib.org/reference/args_data_masking.html" class="external-link">data-masking</a></code>&gt; expressions that
return a logical value and are defined in terms of all characteristics
and variables of all added agents. This is to specify which agents get the
new characteristic. If omitted, all present agents are receiving the new
characteristic. If multiple expressions are included, they are combined
with the <code>&amp;</code> operator.</p></dd>


<dt>.overwrite</dt>
<dd><p>if <code>FALSE</code> (the default), characteristics with the same
name will not be overwritten (a warning will be issued)</p></dd>


<dt>.suppress_warnings</dt>
<dd><p>if <code>TRUE</code>, <code>.overwrite</code> will not yield any
warnings; default is FALSE, though</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>tidyabm</code> object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="create_grid_environment.html">create_grid_environment</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">168</span>, size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_agents.html">add_agents</a></span><span class="op">(</span><span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">160</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">distribute_characteristic_across_agents</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">'friend'</span>,</span></span>
<span class="r-in"><span>    \<span class="op">(</span><span class="va">i</span>, <span class="va">agent</span>, <span class="va">agents</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0.5</span>, <span class="va">i</span><span class="op">-</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 0 × 0</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ABM grid environment</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">* 20x20, 160 agents</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">* 0 environment characteristic(s), </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">* 0 environment variable(s), </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">* 0 environment rule(s), </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">* not initiated</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">a1</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_characteristic.html">set_characteristic</a></span><span class="op">(</span>age <span class="op">=</span> <span class="st">'young'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">a2</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_characteristic.html">set_characteristic</a></span><span class="op">(</span>age <span class="op">=</span> <span class="st">'old'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="create_grid_environment.html">create_grid_environment</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">486</span>, size <span class="op">=</span> <span class="fl">50</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_agents.html">add_agents</a></span><span class="op">(</span><span class="va">a1</span>, <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_agents.html">add_agents</a></span><span class="op">(</span><span class="va">a2</span>, <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">distribute_characteristic_across_agents</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">'opinion'</span>,</span></span>
<span class="r-in"><span>    <span class="fu">stats</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="va">age</span> <span class="op">==</span> <span class="st">'old'</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Mario Haim.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

