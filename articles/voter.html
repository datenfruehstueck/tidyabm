<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tidyabm">
<title>Holley and Liggett's Voter Model • tidyabm</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Holley and Liggett's Voter Model">
<meta property="og:description" content="tidyabm">
<meta property="og:image" content="https://datenfruehstueck.github.io/tidyabm/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidyabm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/boundedconfidence.html">Deffuant et al.'s Bounded Confidence Model of Opinion Dynamics</a>
    <a class="dropdown-item" href="../articles/diffusion.html">Rogers' Diffusion</a>
    <a class="dropdown-item" href="../articles/segregation.html">Schelling's Segregation</a>
    <a class="dropdown-item" href="../articles/voter.html">Holley and Liggett's Voter Model</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/datenfruehstueck/tidyabm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Holley and Liggett's Voter Model</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datenfruehstueck/tidyabm/blob/HEAD/vignettes/voter.Rmd" class="external-link"><code>vignettes/voter.Rmd</code></a></small>
      <div class="d-none name"><code>voter.Rmd</code></div>
    </div>

    
    
<p>Read about Holley and Liggett’s Voter model in the <a href="https://doi.org/10.1214/aop/1176996306" class="external-link">original publication</a>
of 1975 or on <a href="https://en.wikipedia.org/wiki/Voter_model" class="external-link">Wikipedia</a>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/datenfruehstueck/tidyabm" class="external-link">tidyabm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'tidygraph'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com" class="external-link">ggraph</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: ggplot2</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>Here, we create an undirected network environment with 100 agents
where each agent feels connected to a (or no) party and each agent is
connected to 0-6 other agents. Central model configuration parameters
are combined here. Specifically, we use the results of the <a href="https://en.wikipedia.org/wiki/2021_German_federal_election" class="external-link">2021
German Federal Election</a> but also factor in non-voters. Later, each
agent will only change their mind given in a certain amount of times
(i.e., with a probability of <code>p_change</code>). It will then take
over randomly one of their neighbors’ (i.e., directly connected agents)
party preference but instead of just randomly drawing one of the
neighbors’ parties, the present party with most support among the
neighbors (i.e., the <a href="https://en.wikipedia.org/wiki/Bandwagon_effect" class="external-link">bandwagon</a>) is
slightly over-preferred (by a factor of <code>boost_bandwagon</code>)
and so is the present party with least support among neighbors (i.e.,
the <a href="https://en.wikipedia.org/wiki/Opinion_poll#Effect_on_voters" class="external-link">underdog</a>,
<code>boost_underdog</code>). However, given the state of empirical
research on these two boosts, the bandwagon effect is more likely to
occur than the underdog effect.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_agents_per_party_initial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'spd'</span> <span class="op">=</span> <span class="fl">20</span>,</span>
<span>                                <span class="st">'union'</span> <span class="op">=</span> <span class="fl">18</span>,</span>
<span>                                <span class="st">'greens'</span> <span class="op">=</span> <span class="fl">12</span>,</span>
<span>                                <span class="st">'fdp'</span> <span class="op">=</span> <span class="fl">9</span>,</span>
<span>                                <span class="st">'afd'</span> <span class="op">=</span> <span class="fl">8</span>,</span>
<span>                                <span class="st">'left'</span> <span class="op">=</span> <span class="fl">4</span>,</span>
<span>                                <span class="st">'others'</span> <span class="op">=</span> <span class="fl">6</span>,</span>
<span>                                <span class="st">'none'</span> <span class="op">=</span> <span class="fl">23</span><span class="op">)</span></span>
<span></span>
<span><span class="va">n_connections_min</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="va">n_connections_max</span> <span class="op">&lt;-</span> <span class="fl">6</span></span>
<span></span>
<span><span class="va">p_change</span> <span class="op">&lt;-</span> <span class="fl">.25</span></span>
<span><span class="va">boost_bandwagon</span> <span class="op">&lt;-</span> <span class="fl">1.3</span></span>
<span><span class="va">boost_underdog</span> <span class="op">&lt;-</span> <span class="fl">1.1</span></span></code></pre></div>
<p>This time, although we need a couple of different agents, we only
create one agent blueprint first to then (next step) create the other
agents automatically. This blueprint already does the main work, though.
It connects initially to others, it checks whether it should adjust its
party preference at any tick, and, if so, it adjusts its party
preference.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">agent_blueprint</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_characteristic.html">set_characteristic</a></span><span class="op">(</span>connected <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_rule.html">add_rule</a></span><span class="op">(</span><span class="st">'initial connect'</span>,</span>
<span>           <span class="va">connected</span> <span class="op">==</span> <span class="cn">FALSE</span>,</span>
<span>           .consequence <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">me</span>, <span class="va">abm</span><span class="op">)</span> <span class="op">{</span></span>
<span>             <span class="va">n_connections</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, </span>
<span>                                    min <span class="op">=</span> <span class="va">n_connections_min</span>,</span>
<span>                                    max <span class="op">=</span> <span class="va">n_connections_max</span><span class="op">)</span></span>
<span>             <span class="kw">if</span> <span class="op">(</span><span class="va">n_connections</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>               <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">n_connections</span><span class="op">)</span> <span class="op">{</span></span>
<span>                 <span class="va">random_agent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_random_agent.html">get_random_agent</a></span><span class="op">(</span><span class="va">abm</span>, <span class="va">me</span><span class="op">)</span></span>
<span>                 <span class="va">me</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/network_connect.html">network_connect</a></span><span class="op">(</span><span class="va">me</span>, <span class="va">random_agent</span><span class="op">)</span></span>
<span>               <span class="op">}</span></span>
<span>             <span class="op">}</span></span>
<span>             <span class="va">me</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>               <span class="fu"><a href="../reference/set_characteristic.html">set_characteristic</a></span><span class="op">(</span>connected <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  .overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  .suppress_warnings <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>               <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>           <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_variable.html">add_variable</a></span><span class="op">(</span>should_party_adjust <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">me</span>, <span class="va">abm</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">me</span><span class="op">$</span><span class="va">connected</span> <span class="op">==</span> <span class="cn">TRUE</span>,</span>
<span>               <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">me</span><span class="op">$</span><span class="va">.outdegree</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>               <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="va">p_change</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_rule.html">add_rule</a></span><span class="op">(</span><span class="st">'adjust party'</span>,</span>
<span>           <span class="va">should_party_adjust</span> <span class="op">==</span> <span class="cn">TRUE</span>,</span>
<span>           .consequence <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">me</span>, <span class="va">abm</span><span class="op">)</span> <span class="op">{</span></span>
<span>             <span class="va">available_neighborhood_parties</span> <span class="op">&lt;-</span></span>
<span>               <span class="fu"><a href="../reference/network_get_neighbors.html">network_get_neighbors</a></span><span class="op">(</span><span class="va">me</span>, <span class="va">abm</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="fl">1.0</span><span class="op">)</span></span>
<span>             <span class="va">n_parties</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">available_neighborhood_parties</span><span class="op">)</span></span>
<span>             <span class="kw">if</span> <span class="op">(</span><span class="va">n_parties</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>               <span class="va">available_neighborhood_parties</span><span class="op">[[</span><span class="fl">1</span>, <span class="st">'weight'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> </span>
<span>                 <span class="va">boost_bandwagon</span></span>
<span>               <span class="va">available_neighborhood_parties</span><span class="op">[[</span><span class="va">n_parties</span>, <span class="st">'weight'</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span></span>
<span>                 <span class="va">boost_underdog</span></span>
<span>             <span class="op">}</span></span>
<span>             <span class="va">new_party</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">available_neighborhood_parties</span><span class="op">$</span><span class="va">party</span>,</span>
<span>                                 size <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                                 prob <span class="op">=</span> <span class="va">available_neighborhood_parties</span><span class="op">$</span><span class="va">weight</span><span class="op">)</span></span>
<span>             <span class="va">me</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="fu"><a href="../reference/set_characteristic.html">set_characteristic</a></span><span class="op">(</span>party <span class="op">=</span> <span class="va">new_party</span>,</span>
<span>                                  .overwrite <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                                  .suppress_warnings <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>               <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="op">)</span></span>
<span>           <span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>Here’s the actual model (i.e., the environment):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_network_environment.html">create_network_environment</a></span><span class="op">(</span>seed <span class="op">=</span> <span class="fl">1835456</span>,</span>
<span>                                is_directed <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">party_name</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">n_agents_per_party_initial</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="../reference/add_agents.html">add_agents</a></span><span class="op">(</span><span class="va">agent_blueprint</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>                 <span class="fu"><a href="../reference/set_characteristic.html">set_characteristic</a></span><span class="op">(</span>party <span class="op">=</span> <span class="va">party_name</span><span class="op">)</span>,</span>
<span>               n <span class="op">=</span> <span class="va">n_agents_per_party_initial</span><span class="op">[[</span><span class="va">party_name</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/init.html">init</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Just to make sure everything worked, we can check the agents and see
if their distribution matches our initial distribution.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_agents_to_tibble.html">convert_agents_to_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 8 × 2</span></span></span>
<span><span class="co">#&gt;   party      n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> none      23</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> spd       20</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> union     18</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> greens    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> fdp        9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> afd        8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> others     6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">8</span> left       4</span></span></code></pre></div>
<p>Looking good, so we are ready to rumble. Let’s first do one iteration
so that connections are established. After that, we can try and
visualize this kind-of manually to also control coloring.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/tick.html">tick</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Tick 1 finished in 4.106 secs"</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_network_to_tidygraph.html">convert_network_to_tidygraph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="st">'kk'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_link.html" class="external-link">geom_edge_link</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">party</span><span class="op">)</span>,</span>
<span>                  size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_text.html" class="external-link">geom_node_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">name</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="st">'#FFFFFF'</span>,</span>
<span>                 size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'spd'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'union'</span> <span class="op">=</span> <span class="st">'#000000'</span>,</span>
<span>                                <span class="st">'greens'</span> <span class="op">=</span> <span class="st">'#1AA037'</span>,</span>
<span>                                <span class="st">'fdp'</span> <span class="op">=</span> <span class="st">'#FFEF00'</span>,</span>
<span>                                <span class="st">'afd'</span> <span class="op">=</span> <span class="st">'#0489DB'</span>,</span>
<span>                                <span class="st">'left'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'others'</span> <span class="op">=</span> <span class="st">'darkgrey'</span>,</span>
<span>                                <span class="st">'none'</span> <span class="op">=</span> <span class="st">'lightgrey'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">'none'</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Using the `size` aesthetic in this geom was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Please use `linewidth` in the `default_aes` field and elsewhere instead.</span></span>
<span><span class="co">#&gt; <span style="color: #555555;">This warning is displayed once every 8 hours.</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">Call `lifecycle::last_lifecycle_warnings()` to see where this warning was</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;">generated.</span></span></span></code></pre></div>
<p><img src="voter_files/figure-html/connection_setup-1.png" width="100%"></p>
<p>Now we can iterate. Since we do not have a stop criterion defined, we
iterate over some ticks and look at the result. The result here can be
our visualization but of course it can also be the distribution of votes
in our environment. Let’s go 5 ticks for a start.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/iterate.html">iterate</a></span><span class="op">(</span>max_iterations <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Tick 2 finished in 1.683 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 3 finished in 1.75 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 4 finished in 1.414 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 5 finished in 1.742 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 6 finished in 1.591 secs"</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_agents_to_tibble.html">convert_agents_to_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 2</span></span></span>
<span><span class="co">#&gt;   party      n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> union     16</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> spd       15</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> others    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> none      27</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> greens     7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> fdp        8</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> afd       15</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_network_to_tidygraph.html">convert_network_to_tidygraph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="st">'kk'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_link.html" class="external-link">geom_edge_link</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">party</span><span class="op">)</span>,</span>
<span>                  size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_text.html" class="external-link">geom_node_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">name</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="st">'#FFFFFF'</span>,</span>
<span>                 size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'spd'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'union'</span> <span class="op">=</span> <span class="st">'#000000'</span>,</span>
<span>                                <span class="st">'greens'</span> <span class="op">=</span> <span class="st">'#1AA037'</span>,</span>
<span>                                <span class="st">'fdp'</span> <span class="op">=</span> <span class="st">'#FFEF00'</span>,</span>
<span>                                <span class="st">'afd'</span> <span class="op">=</span> <span class="st">'#0489DB'</span>,</span>
<span>                                <span class="st">'left'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'others'</span> <span class="op">=</span> <span class="st">'darkgrey'</span>,</span>
<span>                                <span class="st">'none'</span> <span class="op">=</span> <span class="st">'lightgrey'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">'none'</span><span class="op">)</span></span></code></pre></div>
<p><img src="voter_files/figure-html/iteration_1-1.png" width="100%"></p>
<p>Something has certainly changed. It could be hard to digest, though.
So for the next five ticks, we also print the change/delta to the
initial/seminal starting values.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/iterate.html">iterate</a></span><span class="op">(</span>max_iterations <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Tick 7 finished in 1.752 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 8 finished in 1.614 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 9 finished in 1.433 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 10 finished in 1.604 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 11 finished in 1.755 secs"</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_agents_to_tibble.html">convert_agents_to_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">n_agents_per_party_initial</span><span class="op">)</span>,</span>
<span>                   initial_vote <span class="op">=</span> <span class="va">n_agents_per_party_initial</span><span class="op">)</span>,</span>
<span>            by <span class="op">=</span> <span class="st">'party'</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="va">initial_vote</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 4</span></span></span>
<span><span class="co">#&gt;   party      n initial_vote delta</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> union     20           18     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> spd       17           20    -<span style="color: #BB0000;">3</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> others    13            6     7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> none      16           23    -<span style="color: #BB0000;">7</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> greens    17           12     5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> fdp        4            9    -<span style="color: #BB0000;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> afd       13            8     5</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_network_to_tidygraph.html">convert_network_to_tidygraph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="st">'kk'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_link.html" class="external-link">geom_edge_link</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">party</span><span class="op">)</span>,</span>
<span>                  size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_text.html" class="external-link">geom_node_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">name</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="st">'#FFFFFF'</span>,</span>
<span>                 size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'spd'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'union'</span> <span class="op">=</span> <span class="st">'#000000'</span>,</span>
<span>                                <span class="st">'greens'</span> <span class="op">=</span> <span class="st">'#1AA037'</span>,</span>
<span>                                <span class="st">'fdp'</span> <span class="op">=</span> <span class="st">'#FFEF00'</span>,</span>
<span>                                <span class="st">'afd'</span> <span class="op">=</span> <span class="st">'#0489DB'</span>,</span>
<span>                                <span class="st">'left'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'others'</span> <span class="op">=</span> <span class="st">'darkgrey'</span>,</span>
<span>                                <span class="st">'none'</span> <span class="op">=</span> <span class="st">'lightgrey'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">'none'</span><span class="op">)</span></span></code></pre></div>
<p><img src="voter_files/figure-html/iteration_2-1.png" width="100%"></p>
<p>That’s much better. It looks as if the largest groups
(parties/non-voters) seemingly lose their voters while others gain (some
even significantly). Let’s do a couple more rounds.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op">&lt;-</span> <span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/iterate.html">iterate</a></span><span class="op">(</span>max_iterations <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Tick 12 finished in 1.235 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 13 finished in 1.598 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 14 finished in 1.323 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 15 finished in 1.283 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 16 finished in 1.467 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 17 finished in 1.122 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 18 finished in 1.433 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 19 finished in 1.655 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 20 finished in 1.477 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 21 finished in 1.48 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 22 finished in 1.974 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 23 finished in 1.883 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 24 finished in 1.707 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 25 finished in 1.501 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 26 finished in 1.767 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 27 finished in 1.751 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 28 finished in 1.426 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 29 finished in 1.74 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 30 finished in 1.335 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 31 finished in 1.473 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 32 finished in 1.712 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 33 finished in 1.863 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 34 finished in 1.858 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 35 finished in 1.611 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 36 finished in 1.751 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 37 finished in 1.392 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 38 finished in 1.565 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 39 finished in 1.603 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 40 finished in 1.424 secs"</span></span>
<span><span class="co">#&gt; [1] "Tick 41 finished in 1.799 secs"</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_agents_to_tibble.html">convert_agents_to_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">party</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>party <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">n_agents_per_party_initial</span><span class="op">)</span>,</span>
<span>                   initial_vote <span class="op">=</span> <span class="va">n_agents_per_party_initial</span><span class="op">)</span>,</span>
<span>            by <span class="op">=</span> <span class="st">'party'</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>delta <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="va">initial_vote</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 4</span></span></span>
<span><span class="co">#&gt;   party      n initial_vote delta</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> union     18           18     0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> none      36           23    13</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> greens    24           12    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> fdp        5            9    -<span style="color: #BB0000;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> afd       17            8     9</span></span>
<span></span>
<span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/convert_network_to_tidygraph.html">convert_network_to_tidygraph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="st">'kk'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_link.html" class="external-link">geom_edge_link</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">party</span><span class="op">)</span>,</span>
<span>                  size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_text.html" class="external-link">geom_node_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">name</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="st">'#FFFFFF'</span>,</span>
<span>                 size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'spd'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'union'</span> <span class="op">=</span> <span class="st">'#000000'</span>,</span>
<span>                                <span class="st">'greens'</span> <span class="op">=</span> <span class="st">'#1AA037'</span>,</span>
<span>                                <span class="st">'fdp'</span> <span class="op">=</span> <span class="st">'#FFEF00'</span>,</span>
<span>                                <span class="st">'afd'</span> <span class="op">=</span> <span class="st">'#0489DB'</span>,</span>
<span>                                <span class="st">'left'</span> <span class="op">=</span> <span class="st">'#E3000F'</span>,</span>
<span>                                <span class="st">'others'</span> <span class="op">=</span> <span class="st">'darkgrey'</span>,</span>
<span>                                <span class="st">'none'</span> <span class="op">=</span> <span class="st">'lightgrey'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">'none'</span><span class="op">)</span></span></code></pre></div>
<p><img src="voter_files/figure-html/iteration_3-1.png" width="100%"></p>
<p>Now that’s a stunner. But I’ll leave the interpretation to you. Of
course, as always, we can compile relevant data for any publication
we’re preparing through the <a href="https://doi.org/10.18564/jasss.4259" class="external-link">ODD protocol</a>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/odd.html">odd</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 4</span></span></span>
<span><span class="co">#&gt;   `ODD category`  Element                          Content `tidyABM information`</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Overview        Purpose and patterns             <span style="color: #949494;">"</span>Brief… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Overview        Entities, state variables, and … <span style="color: #949494;">"</span>List … ABM network environm…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Overview        Process overview and scheduling  <span style="color: #949494;">"</span>Provi… environment rules: -…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Design concepts Design concepts                  <span style="color: #949494;">"</span>This … Model has not yet fi…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Details         Initialization                   <span style="color: #949494;">"</span>Speci… See the list of agen…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Details         Input data                       <span style="color: #949494;">"</span>Repor… <span style="color: #BB0000;">NA</span>                   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Details         Submodels                        <span style="color: #949494;">"</span>Repea… <span style="color: #BB0000;">NA</span></span></span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mario Haim.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
